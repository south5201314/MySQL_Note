# 存储过程

## 简介

* 含义：一组经过预先编译的SQL语句的集合。
* 特点
  * 提高sql语句的重用性，减少开发者的压力。
  * 提高效率。
  * 减少传输次数。

* 重点关键字

  | 关键字 | 描述                 |
  | ------ | -------------------- |
  | IN     | 修饰形参为输入       |
  | OUT    | 修饰形参为输出       |
  | INOUT  | 修饰形参为输入和输出 |

## 使用

* 创建

  ```mysql
  # 在使用BEGIN END语句时需要先设置新的结束标记
  DELIMITER 新的结束标记
  # 示例
  DELIMITER $ #当前会话之后的语句都是$为结束标记
  CREATE PROCEDURE 存储过程名(IN|OUT|INOUT 参数名 参数类型,...)
  BEGIN
  存储过程体;
  END $
  ```

* 调用

  ```mysql
  CALL 存储过程名(实参列表)$ #$为结束标记，是之前重新设置的，也可以设置回去为;
  ```

# 函数

## 简介

* 函数和存储过程类似，不同的是参数只能作为输入。
* 函数的返回值只能有一个。

## 使用

* 创建函数

  ```mysql
  # 在使用BEGIN END语句时需要先设置新的结束标记
  DELIMITER 新的结束标记
  # 示例
  DELIMITER $ #当前会话之后的语句都是$为结束标记
  # 创建函数
  CREATE FUNCTION 函数名(参数名 参数数据类型,...) RETURNS 返回值的数据类型
  BEGIN
  函数体;
  ...
  RETURN 返回值;
  END $
  ```

* 调用函数

  * 用户自定义的函数的作用域与数据库系统提供的函数一致。

  ```mysql
  # 函数调用举例
  SELECT 函数名(实参列表)$
  ```

  